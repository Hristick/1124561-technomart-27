document.querySelectorAll(".open-map").forEach(function(){var a=document.querySelector(".open-map"),b=document.querySelector(".popup"),c=b.querySelector(".close-map");a.addEventListener("click",function(a){a.preventDefault(),b.classList.add("modal-show")}),c.addEventListener("click",function(a){a.preventDefault(),b.classList.remove("modal-show")})}),document.querySelectorAll(".write-me").forEach(function(){var a=document.querySelector(".write-me"),b=document.querySelector(".popup-form"),c=document.querySelector(".close-form"),d=b.querySelector("[id=name]"),e=b.querySelector("[id=e-mail]"),f=!0,g="";try{g=localStorage.getItem("first_name")}catch(h){f=!1}a.addEventListener("click",function(a){a.preventDefault(),b.classList.add("modal-show"),d.focus(),g?(d.value=g,e.focus()):d.focus()}),c.addEventListener("click",function(a){a.preventDefault(),b.classList.remove("modal-show"),b.classList.remove("modal-error")}),b.addEventListener("submit",function(a){d.value&&e.value?f&&localStorage.setItem("first_name",d.value):(a.preventDefault(),b.classList.remove("modal-error"),b.offsetWidth=b.offsetWidth,b.classList.add("modal-error"),console.log("\u041d\u0443\u0436\u043d\u043e \u0432\u0432\u0435\u0441\u0442\u0438 \u043b\u043e\u0433\u0438\u043d \u0438 \u043f\u0430\u0440\u043e\u043b\u044c"))}),window.addEventListener("keydown",function(a){27===a.keyCode&&(a.preventDefault(),b.classList.contains("modal-show")&&(b.classList.remove("modal-show"),b.classList.remove("modal-error")))})}),document.querySelectorAll(".buy-modal").forEach(function(){var a=document.querySelector(".popup-in-cart"),b=document.querySelector(".buy-modal"),c=document.querySelector(".close-form-catalog");b.addEventListener("click",function(b){b.preventDefault(),a.classList.add("modal-show")}),c.addEventListener("click",function(b){b.preventDefault(),a.classList.remove("modal-show")})});